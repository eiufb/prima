<!DOCTYPE html>
<html lang="es-CO" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Afro Rose | Luxury Studio</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { gold: '#c5a059', 'luxury-dark': '#1a1a1a' },
                    screens: { 'xs': '375px' }
                }
            }
        }
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,600&family=Outfit:wght@100;300;400;600&display=swap');
        :root { --gold: #c5a059; }
        body { background: #ffffff; color: #1a1a1a; font-family: 'Outfit', sans-serif; overflow-x: hidden; }
        h1, h2, h3, .font-serif { font-family: 'Cormorant Garamond', serif; }
        .glass-card { background: rgba(255, 255, 255, 0.98); backdrop-filter: blur(15px); }
        
        .hero-bg {
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), 
                        url('https://images.unsplash.com/photo-1605497746444-ac961aa01712?q=80&w=1200');
            background-size: cover; background-position: center;
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        .category-btn.active { 
            background: white; 
            color: var(--gold); 
            border-left: 4px solid var(--gold);
            font-weight: 600;
        }

        .reveal { opacity: 0; transform: translateY(30px); }

        .modal-enter { animation: modalFade 0.3s ease-out forwards; }
        @keyframes modalFade { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }

        @keyframes pulse-gold {
            0% { box-shadow: 0 0 0 0 rgba(197, 160, 89, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(197, 160, 89, 0); }
            100% { box-shadow: 0 0 0 0 rgba(197, 160, 89, 0); }
        }
        .pulse-active { animation: pulse-gold 2s infinite; }
    </style>
</head>
<body>

    <header class="hero-bg min-h-[70vh] flex flex-col justify-center items-center text-center px-6 overflow-hidden">
        <span id="hero-tag" class="text-white uppercase tracking-[0.6em] text-[10px] font-bold mb-4 italic">Ciudad CÃ³rdoba, Cali</span>
        <h1 id="hero-title" class="text-5xl sm:text-7xl md:text-[7rem] text-white font-light mb-8 italic leading-tight">Afro <span class="text-gold not-italic">Rose.</span></h1>
        <a id="hero-btn" href="#menu-servicios" class="bg-gold text-white font-bold py-4 px-10 rounded-full text-[10px] tracking-widest uppercase shadow-xl active:scale-95 transition-all hover:bg-[#b08d4a]">Explorar CatÃ¡logo</a>
    </header>

    <section id="menu-servicios" class="bg-white py-16 reveal">
        <div class="max-w-5xl mx-auto flex flex-col h-[75vh] md:h-[600px] border border-stone-100 shadow-2xl rounded-[2rem] overflow-hidden mx-4">
            <div class="p-4 bg-white border-b border-stone-100">
                <input type="text" id="searchInput" onkeyup="buscarServicio()" placeholder="Â¿QuÃ© estilo buscas hoy?" class="w-full p-4 rounded-xl bg-stone-50 border-none outline-none focus:ring-1 focus:ring-gold text-sm transition-all">
            </div>
            <div class="flex flex-1 overflow-hidden">
                <div id="sidebar-categorias" class="w-[35%] sm:w-[25%] bg-stone-50 overflow-y-auto no-scrollbar border-r border-stone-100"></div>
                <div id="productos-grid" class="w-[65%] sm:w-[75%] overflow-y-auto p-4 space-y-3 no-scrollbar bg-white"></div>
            </div>
        </div>
    </section>

    <div id="preview-modal" onclick="closeModalExterno(event)" class="fixed inset-0 z-[200] bg-black/90 hidden flex items-center justify-center p-4 backdrop-blur-md">
        <div id="modal-content" class="modal-enter max-w-sm w-full bg-white rounded-[2.5rem] overflow-hidden shadow-2xl">
            <div class="relative h-80">
                <img id="modal-img" src="" class="w-full h-full object-cover">
                <button onclick="closeModal()" class="absolute top-4 right-4 bg-black/40 text-white w-10 h-10 rounded-full flex items-center justify-center backdrop-blur-md">âœ•</button>
            </div>
            <div class="p-8 text-center">
                <h3 id="modal-name" class="font-serif text-3xl italic mb-1"></h3>
                <p id="modal-price" class="text-gold font-bold mb-6 text-xl"></p>
                <button onclick="confirmarDesdeModal()" class="w-full bg-gold text-white font-bold py-5 rounded-2xl uppercase tracking-widest text-[10px] shadow-lg hover:brightness-110 transition-all">Agendar este estilo</button>
            </div>
        </div>
    </div>

    <section id="reserva" class="py-20 px-6 bg-stone-50 reveal">
        <div class="max-w-xl mx-auto glass-card p-6 sm:p-10 rounded-[3rem] shadow-2xl border border-gold/10 text-center">
            <h2 class="text-4xl font-serif italic mb-6">Reserva tu Espacio</h2>

            <div id="resumen-seleccion" class="hidden mb-6 p-6 bg-gold/5 rounded-3xl border border-gold/20 scale-95 opacity-0 transition-all duration-500">
                <p class="text-[10px] font-bold text-gold uppercase tracking-widest mb-1">Servicio seleccionado:</p>
                <h3 id="nombre-elegido" class="font-serif text-2xl italic mb-2"></h3>
                <p id="total-final" class="text-sm font-bold text-gray-700"></p>
                <div class="h-[1px] bg-gold/20 my-3 w-16 mx-auto"></div>
                <p class="text-[10px] text-gray-400 italic">Paso 1: Elige tu horario debajo</p>
            </div>

            <div class="bg-white p-2 rounded-[2rem] shadow-inner border border-stone-100 overflow-hidden mb-8 transition-transform hover:scale-[1.01]" onclick="activarBotonesConfirmacion()">
                <div style="position: relative; overflow: hidden; width: 100%; padding-top: 135%; border-radius: 1.5rem;">
                    <iframe id="calendar-frame" src="https://calendar.google.com/calendar/appointments/schedules/TU_LINK_AQUI?gv=true" 
                        style="position: absolute; top: 0; left: 0; bottom: 0; right: 0; width: 100%; height: 100%; border: none;" 
                        frameborder="0">
                    </iframe>
                </div>
            </div>

            <div class="space-y-4">
                <p class="text-[10px] font-bold text-gold uppercase tracking-widest">Paso 2: Datos de contacto</p>
                <div class="flex gap-2">
                    <input type="number" id="qty" value="1" min="1" onchange="actualizarTotalResumen()" class="w-20 p-4 bg-white rounded-2xl border border-stone-100 outline-none text-center font-bold focus:border-gold transition-colors">
                    <input type="text" id="nombre-cliente" placeholder="Tu Nombre Completo" class="flex-1 p-4 bg-white rounded-2xl border border-stone-100 outline-none text-sm focus:border-gold transition-colors">
                </div>
                <button id="btn-whatsapp" onclick="enviarWhatsApp()" class="w-full bg-gold text-white font-bold py-5 rounded-2xl text-[10px] uppercase tracking-[0.3em] shadow-xl hover:bg-[#b08d4a] transition-all">Confirmar Cita por WhatsApp</button>
            </div>
        </div>
    </section>

    <footer class="bg-luxury-dark text-white py-16 text-center">
        <h3 class="font-serif text-3xl italic text-gold mb-4">Afro Rose.</h3>
        <div class="flex justify-center gap-6 mb-8 text-gold/60">
            <span class="text-[10px] uppercase tracking-widest">Instagram</span>
            <span class="text-[10px] uppercase tracking-widest">TikTok</span>
        </div>
        <p class="text-gray-600 text-[10px] tracking-[0.5em] uppercase">Cali, Colombia &copy; 2026</p>
    </footer>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        const serviciosData = {
            "Rituales NiÃ±as": [
                { n: "Recogido NiÃ±as", p: 25000, img: "https://images.unsplash.com/photo-1518831959646-742c3a14ebf7?w=600" },
                { n: "Recogidos Para NiÃ±as Y Campesinas", p: 30000, img: "https://images.unsplash.com/photo-1620331713541-7f3099564264?w=600" },
                { n: "Trenzas Campesinas", p: 35000, img: "https://images.unsplash.com/photo-1595476108010-b4d1f102b1b1?w=600" }
            ],
            "Trenzas de Autor": [
                { n: "Recogidos Con Trenzas", p: 55000, img: "https://images.unsplash.com/photo-1632760127464-556e7282c68e?w=600" },
                { n: "Trenzas RiÃ±ones", p: 65000, img: "https://images.unsplash.com/photo-1605497746444-ac961aa01712?w=600" },
                { n: "Trenzas RiÃ±ones Con DiseÃ±o", p: 70000, img: "https://images.unsplash.com/photo-1582095133179-bfd08e2fc6b3?w=600" },
                { n: "Recogido Con Trenzas (Cola Alta)", p: 75000, img: "https://images.unsplash.com/photo-1560869713-7d0a29430863?w=600" },
                { n: "Trenzas Sueltas", p: 80000, img: "https://images.unsplash.com/photo-1621605815971-fbc98d665033?w=600" },
                { n: "Trenzas Cortas Con DiseÃ±o Sencillo", p: 80000, img: "https://images.unsplash.com/photo-1632760127464-556e7282c68e?w=600" },
                { n: "Trenzas Sueltas Mariposas", p: 85000, img: "https://images.unsplash.com/photo-1605497746444-ac961aa01712?w=600" },
                { n: "Trenzas Bohemias Cortas", p: 90000, img: "https://images.unsplash.com/photo-1621605815971-fbc98d665033?w=600" },
                { n: "Trenzas Con DiseÃ±os MÃ¡s Fino", p: 98000, img: "https://images.unsplash.com/photo-1582095133179-bfd08e2fc6b3?w=600" },
                { n: "Trenzas Bohemias Largas", p: 120000, img: "https://images.unsplash.com/photo-1632760127464-556e7282c68e?w=600" },
                { n: "Trenzas Sueltas (Micro/Largas)", p: 150000, img: "https://images.unsplash.com/photo-1605497746444-ac961aa01712?w=600" }
            ],
            "Extensiones y Postizos": [
                { n: "Recogido Con ExtensiÃ³n y DiseÃ±o", p: 45000, img: "https://images.unsplash.com/photo-1595476108010-b4d1f102b1b1?w=600" },
                { n: "Solo Puesta De ExtensiÃ³n", p: 65000, img: "https://images.unsplash.com/photo-1492106087820-71f1a00d2b11?w=600" },
                { n: "Puesta De ExtensiÃ³n Con Cepillado Y Plancha", p: 78000, img: "https://images.unsplash.com/photo-1560869713-7d0a29430863?w=600" },
                { n: "Extensiones Crespas Con DiseÃ±o De Trenzas", p: 88000, img: "https://images.unsplash.com/photo-1582095133179-bfd08e2fc6b3?w=600" },
                { n: "Puesta De Cabello Rasta", p: 100000, img: "https://images.unsplash.com/photo-1595476108010-b4d1f102b1b1?w=600" }
            ],
            "Servicios Especiales": [
                { n: "DiseÃ±os Con Pelucas", p: "A consultar", img: "https://images.unsplash.com/photo-1560066984-138dadb4c035?w=600" }
            ]
        };

        let servicioActivo = null;

        // Animaciones Iniciales (Hero)
        gsap.from("#hero-tag", { opacity: 0, y: 20, duration: 1, delay: 0.5 });
        gsap.from("#hero-title", { opacity: 0, scale: 0.9, duration: 1.2, delay: 0.8 });
        gsap.from("#hero-btn", { opacity: 0, y: 20, duration: 1, delay: 1.1 });

        // Scroll Reveal (Secciones)
        gsap.utils.toArray(".reveal").forEach(elem => {
            gsap.to(elem, {
                scrollTrigger: {
                    trigger: elem,
                    start: "top 85%",
                    toggleActions: "play none none none"
                },
                opacity: 1,
                y: 0,
                duration: 1,
                ease: "power2.out"
            });
        });

        function initMenuLateral() {
            const sidebar = document.getElementById('sidebar-categorias');
            sidebar.innerHTML = '';
            Object.keys(serviciosData).forEach((cat, index) => {
                const btn = document.createElement('button');
                btn.className = `category-btn w-full p-5 text-left text-[10px] uppercase border-b border-stone-100 transition-all`;
                btn.innerText = cat;
                btn.onclick = () => cargarServicios(cat, btn);
                sidebar.appendChild(btn);
                if(index === 0) cargarServicios(cat, btn);
            });
        }

        function cargarServicios(cat, btn) {
            document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
            if(btn) btn.classList.add('active');
            const container = document.getElementById('productos-grid');
            
            // AnimaciÃ³n de salida antes de cargar nuevos
            gsap.to("#productos-grid > div", { opacity: 0, x: -10, duration: 0.2, stagger: 0.05, onComplete: () => {
                container.innerHTML = serviciosData[cat].map(s => `
                    <div onclick="abrirPreview('${s.n}', '${s.p}', '${s.img}')" class="flex items-center gap-3 p-3 bg-stone-50 rounded-2xl border border-stone-100 active:scale-95 transition-all text-left opacity-0 translate-x-4">
                        <img src="${s.img}" class="w-14 h-14 rounded-xl object-cover">
                        <div class="flex-1">
                            <h4 class="text-[11px] font-bold leading-tight">${s.n}</h4>
                            <p class="text-gold text-[10px] font-bold mt-1">${typeof s.p === 'number' ? '$'+s.p.toLocaleString() : s.p}</p>
                        </div>
                    </div>`).join('');
                
                // AnimaciÃ³n de entrada
                gsap.to("#productos-grid > div", { opacity: 1, x: 0, duration: 0.4, stagger: 0.08 });
            }});
        }

        function buscarServicio() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            const container = document.getElementById('productos-grid');
            let resultados = [];
            Object.values(serviciosData).forEach(cat => {
                cat.forEach(s => { if(s.n.toLowerCase().includes(query)) resultados.push(s); });
            });
            if(query === "") { initMenuLateral(); return; }
            container.innerHTML = resultados.map(s => `
                <div onclick="abrirPreview('${s.n}', '${s.p}', '${s.img}')" class="flex items-center gap-3 p-3 bg-stone-50 rounded-2xl border border-stone-100 text-left">
                    <img src="${s.img}" class="w-14 h-14 rounded-xl object-cover">
                    <div class="flex-1">
                        <h4 class="text-[11px] font-bold">${s.n}</h4>
                        <p class="text-gold text-[10px] font-bold">${typeof s.p === 'number' ? '$'+s.p.toLocaleString() : s.p}</p>
                    </div>
                </div>`).join('') || '<p class="text-center text-xs text-gray-400 py-10">No encontrado</p>';
        }

        function abrirPreview(nombre, precio, img) {
            servicioActivo = { nombre, precio, img };
            document.getElementById('modal-img').src = img;
            document.getElementById('modal-name').innerText = nombre;
            document.getElementById('modal-price').innerText = isNaN(precio) ? precio : `$ ${parseInt(precio).toLocaleString('es-CO')}`;
            document.getElementById('preview-modal').classList.remove('hidden');
        }

        function closeModal() { document.getElementById('preview-modal').classList.add('hidden'); }
        function closeModalExterno(e) { if (e.target.id === 'preview-modal') closeModal(); }

        function confirmarDesdeModal() {
            closeModal();
            const resumen = document.getElementById('resumen-seleccion');
            resumen.classList.remove('hidden');
            setTimeout(() => {
                resumen.classList.remove('scale-95', 'opacity-0');
            }, 100);
            
            document.getElementById('nombre-elegido').innerText = servicioActivo.nombre;
            actualizarTotalResumen();
            document.getElementById('reserva').scrollIntoView({ behavior: 'smooth' });
        }

        function actualizarTotalResumen() {
            if (!servicioActivo) return;
            const cantidad = document.getElementById('qty').value;
            if (isNaN(servicioActivo.precio)) {
                document.getElementById('total-final').innerText = "Precio: A consultar";
            } else {
                const total = parseInt(servicioActivo.precio) * cantidad;
                document.getElementById('total-final').innerText = `Total: $ ${total.toLocaleString('es-CO')} (${cantidad} pers.)`;
            }
        }

        function activarBotonesConfirmacion() {
            document.getElementById('btn-whatsapp').classList.add('pulse-active');
        }

        function enviarWhatsApp() {
            const cliente = document.getElementById('nombre-cliente').value;
            const cantidad = document.getElementById('qty').value;
            if (!servicioActivo || !cliente) return alert("Por favor selecciona un servicio y escribe tu nombre.");
            
            const totalTexto = isNaN(servicioActivo.precio) ? 'A consultar' : '$' + (parseInt(servicioActivo.precio) * cantidad).toLocaleString();
            const texto = `âœ¨ *NUEVA CITA AFRO ROSE* âœ¨%0A%0AðŸ‘¤ *Cliente:* ${cliente}%0AðŸ’† *Servicio:* ${servicioActivo.nombre}%0AðŸ”¢ *Cantidad:* ${cantidad}%0AðŸ’° *Total:* ${totalTexto}%0A%0Aâœ… *Ya seleccionÃ© mi horario en el calendario de Google.*`;
            
            window.open(`https://wa.me/57XXXXXXXXXXX?text=${texto}`, '_blank');
        }

        function aÃ±adirUrgencia() {
            const nombres = ["Luisa V.", "Valeria M.", "Claudia R.", "Andrea S.", "Saray G.", "Monica P."];
            const randomNombre = nombres[Math.floor(Math.random() * nombres.length)];
            const toast = document.createElement('div');
            toast.className = "fixed bottom-6 left-4 right-4 sm:left-6 sm:right-auto bg-white/95 backdrop-blur-md shadow-2xl border-l-4 border-gold p-4 rounded-xl z-[300] transition-all duration-700 transform translate-y-40";
            toast.innerHTML = `
                <div class="flex items-center gap-3">
                    <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                    <p class="text-[11px] font-medium text-luxury-dark">âœ¨ ${randomNombre} estÃ¡ agendando ahora...</p>
                </div>
            `;
            document.body.appendChild(toast);
            setTimeout(() => { toast.classList.remove('translate-y-40'); }, 100);
            setTimeout(() => { 
                toast.classList.add('translate-y-40');
                setTimeout(() => { toast.remove(); }, 700);
            }, 5000);
        }

        setInterval(aÃ±adirUrgencia, 20000);
        initMenuLateral();
    </script>
</body>
</html>
